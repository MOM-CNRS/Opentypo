server:
  port: 8080
  servlet:
    session:
      cookie:
        http-only: true
        secure: ${COOKIE_SECURE:false}  # true en production avec HTTPS
        same-site: strict
  compression:
    enabled: true
    mime-types: text/css,application/javascript,text/html,application/json

joinfaces:
  faces:
    servlet:
      mapping: "*.xhtml"
      load-on-startup: 1
      welcome-files:
        - "index.xhtml"
logging:
  level:
    jakarta.faces: info
    org.joinfaces: info
spring:
  application:
    name: OpenTypo
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}
  datasource:
    url: jdbc:postgresql://localhost:5432/opentypo
    username: postgres
    password: postgres
    driver-class-name: org.postgresql.Driver
  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.xml
    enabled: true
    drop-first: false
  jpa:
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        format_sql: true
        # Configuration Hibernate Envers pour l'audit
        envers:
          audit_table_suffix: _aud
          revision_field_name: rev
          revision_type_field_name: revtype
          store_data_at_delete: true
          default_schema: public
        # Configuration pour les relations lazy
        enable_lazy_load_no_trans: true
  main:
    allow-bean-definition-overriding: true


