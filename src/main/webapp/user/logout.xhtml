<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- Dialog de confirmation de déconnexion -->
    <p:dialog id="confirmLogoutDialog"
              widgetVar="confirmLogoutDialog"
              header="Confirmation de déconnexion"
              modal="true"
              closable="true"
              resizable="false"
              draggable="false"
              width="440"
              height="auto"
              styleClass="modern-logout-dialog">

        <f:facet name="header">
            <div class="modern-logout-header">
                <div class="modern-logout-header-icon-wrapper">
                    <i class="pi pi-sign-out modern-logout-header-icon" />
                </div>
                <div class="modern-logout-header-content">
                    <h3 class="modern-logout-header-title">Déconnexion</h3>
                    <p class="modern-logout-header-subtitle">Confirmez votre déconnexion</p>
                </div>
            </div>
        </f:facet>

        <h:form id="logoutConfirmForm">
            <div class="modern-logout-container">
                <div class="modern-logout-message-wrapper">
                    <div class="modern-logout-icon-alert">
                        <i class="pi pi-exclamation-triangle" />
                    </div>
                    <p class="modern-logout-message-text">
                        Êtes-vous sûr de vouloir vous déconnecter ? Vous devrez vous reconnecter pour accéder à nouveau à votre espace.
                    </p>
                </div>

                <div class="modern-logout-actions">
                    <p:commandButton value="Annuler"
                                     icon="pi pi-times"
                                     onclick="PF('confirmLogoutDialog').hide(); return false;"
                                     type="button"
                                     styleClass="modern-logout-button modern-logout-button-cancel" />
                    <p:commandButton value="Oui, me déconnecter"
                                     icon="pi pi-sign-out"
                                     action="#{loginBean.logout()}"
                                     process="@this" ajax="true"
                                     update=":growl, :headerForm, :sidebarForm, :cardsContainer, :contentPanels, :searchForm :centerContent"
                                     styleClass="modern-logout-button modern-logout-button-confirm"
                                     oncomplete="PF('confirmLogoutDialog').hide();" />
                </div>
            </div>
        </h:form>
    </p:dialog>
</ui:fragment>
