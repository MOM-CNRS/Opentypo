<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:p="http://primefaces.org/ui"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <!-- Arbre de navigation : référentiels → catégories → groupes (nœuds via treeNode.xhtml) -->

    <h:panelGroup id="treeContainer" layout="block" styleClass="simple-tree-container">
        <div class="simple-tree" id="simpleTree">
            <ul class="simple-tree-list">
                <!-- Racine : enfants du nœud collection (référentiels) -->
                <c:forEach items="#{treeBean.root != null ? treeBean.root.children : null}" var="childNode">
                    <ui:include src="treeNode.xhtml">
                        <ui:param name="node" value="#{childNode}"/>
                        <ui:param name="treeBean" value="#{treeBean}"/>
                    </ui:include>
                </c:forEach>
            </ul>
        </div>
    </h:panelGroup>

    <h:outputScript library="js" name="tree.js" target="body"/>
</ui:fragment>
