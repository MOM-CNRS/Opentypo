<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:ui="http://java.sun.com/jsf/facelets">

    <aside id="sidebar" class="app-sidebar sidebar-collapsed sidebar-always-collapsed">
        <h:form id="sidebarForm">
            <div class="sidebar-content">
                <!-- Header du menu -->
                <div class="sidebar-menu-header">
                    <div class="sidebar-header-icon">
                        <i class="pi pi-th-large" />
                    </div>
                </div>

                <!-- Menu items dynamiques -->
                <nav class="sidebar-nav">
                    <!-- Accueil item -->
                    <p:commandLink action="#{applicationBean.goToAccueil}"
                                   styleClass="sidebar-menu-item"
                                   data-menu-item="accueil"
                                   ajax="false">
                        <div class="sidebar-menu-item-content">
                            <div class="sidebar-menu-item-icon">
                                <i class="pi pi-home" />
                            </div>
                            <span class="sidebar-menu-item-text">Accueil</span>
                            <span class="sidebar-menu-item-tooltip">Accueil</span>
                        </div>
                    </p:commandLink>

                    <!-- Candidats item - Visible uniquement si connecté -->
                    <h:panelGroup rendered="#{loginBean.authenticated}">
                        <h:link outcome="/candidats/candidats.xhtml" styleClass="sidebar-menu-item" data-menu-item="candidats">
                            <div class="sidebar-menu-item-content">
                                <div class="sidebar-menu-item-icon">
                                    <i class="pi pi-users"/>
                                </div>
                            <span class="sidebar-menu-item-text">Brouillons</span>
                            <span class="sidebar-menu-item-tooltip">Brouillons</span>
                            </div>
                        </h:link>
                    </h:panelGroup>

                    <!-- Gestion des utilisateurs item - Visible uniquement si connecté ET administrateur -->
                    <h:panelGroup rendered="#{loginBean.authenticated and loginBean.isAdminTechnique()}">
                        <h:link outcome="/users/users.xhtml" styleClass="sidebar-menu-item" data-menu-item="users">
                            <div class="sidebar-menu-item-content">
                                <div class="sidebar-menu-item-icon">
                                    <i class="pi pi-user-edit" />
                                </div>
                                <span class="sidebar-menu-item-text">Gestion des utilisateurs</span>
                                <span class="sidebar-menu-item-tooltip">Gestion des utilisateurs</span>
                            </div>
                        </h:link>
                    </h:panelGroup>
                </nav>

            </div>
        </h:form>
    </aside>
</ui:fragment>