<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- Caractéristiques physiques (communes à tous les types de brouillons) -->
    <div class="users-form-group users-form-group-full periode-group" style="margin-top: 20px">
        <!-- Titre -->
        <b>
            <p:outputLabel value="Caractéristiques physiques"
                           styleClass="caracteristiques-physiques-title"
                           style="padding-left: 15px !important;"/>
        </b>

        <!-- Métrologie -->
        <h:panelGroup styleClass="users-form-group users-form-group-full">
            <p:outputLabel value="Métrologie" />
            <div class="candidat-production-wrapper candidat-production-group">
                <div class="input-wrapper candidat-production-input-wrapper">
                    <i class="pi pi-arrows-h input-icon" />
                    <p:inputText value="#{candidatBean.metrologie != null ? candidatBean.metrologie.valeur : ''}"
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune métrologie sélectionnée"
                                 rendered="#{candidatBean.hasMetrologie()}"/>
                    <p:inputText value=""
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune métrologie sélectionnée"
                                 rendered="#{!candidatBean.hasMetrologie()}"/>
                </div>

                <div class="candidat-table-action-cell" style="margin-right: -5px">
                    <p:commandButton icon="pi pi-trash"
                                     styleClass="candidat-btn-remove"
                                     title="Supprimer la métrologie"
                                     rendered="#{candidatBean.hasMetrologie()}"
                                     actionListener="#{candidatBean.prepareConfirmDeleteMetrologie()}"
                                     process="@this"
                                     update="@none"
                                     oncomplete="PF('confirmDeleteReferenceDialog').show();"/>
                </div>

                <p:commandButton value="Ajouter"
                                 icon="pi pi-plus"
                                 styleClass="candidat-btn-add-production"
                                 actionListener="#{openThesoDialogBean.loadThesaurus(candidatBean, 'METROLOGIE', candidatBean.currentEntity != null ? candidatBean.currentEntity.id : null)}"
                                 process="@this"
                                 ajax="true"
                                 update=":openThesoForm :growl"
                                 oncomplete="hideLoading(); PF('openthesoDialog').show();"
                                 onstart="showLoading('Chargement des thésaurus...', 'spinner');"/>
            </div>
            <p:message for="@previous" display="icon"/>
        </h:panelGroup>

        <!-- Fabrication/façonnage -->
        <h:panelGroup styleClass="users-form-group users-form-group-full" style="margin-top: 10px">
            <p:outputLabel value="Fabrication/façonnage" />
            <div class="candidat-production-wrapper candidat-production-group">
                <div class="input-wrapper candidat-production-input-wrapper">
                    <i class="pi pi-wrench input-icon" />
                    <p:inputText value="#{candidatBean.fabricationFaconnage != null ? candidatBean.fabricationFaconnage.valeur : ''}"
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune fabrication/façonnage sélectionnée"
                                 rendered="#{candidatBean.hasFabricationFaconnage()}"/>
                    <p:inputText value=""
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune fabrication/façonnage sélectionnée"
                                 rendered="#{!candidatBean.hasFabricationFaconnage()}"/>
                </div>

                <div class="candidat-table-action-cell" style="margin-right: -5px">
                    <p:commandButton icon="pi pi-trash"
                                     styleClass="candidat-btn-remove"
                                     title="Supprimer la fabrication/façonnage"
                                     rendered="#{candidatBean.hasFabricationFaconnage()}"
                                     actionListener="#{candidatBean.prepareConfirmDeleteFabricationFaconnage()}"
                                     process="@this"
                                     update="@none"
                                     oncomplete="PF('confirmDeleteReferenceDialog').show();"/>
                </div>

                <p:commandButton value="Ajouter"
                                 icon="pi pi-plus"
                                 styleClass="candidat-btn-add-production"
                                 actionListener="#{openThesoDialogBean.loadThesaurus(candidatBean, 'FABRICATION_FACONNAGE', candidatBean.currentEntity != null ? candidatBean.currentEntity.id : null)}"
                                 process="@this"
                                 ajax="true"
                                 update=":openThesoForm :growl"
                                 oncomplete="hideLoading(); PF('openthesoDialog').show();"
                                 onstart="showLoading('Chargement des thésaurus...', 'spinner');"/>
            </div>
            <p:message for="@previous" display="icon"/>
        </h:panelGroup>

        <!-- Description pâte (champ texte, valeur simple) -->
        <div class="users-form-group users-form-group-full" style="margin-top: 10px">
            <p:outputLabel value="Description pâte" />
            <div class="input-wrapper" style="border: 1px solid rgba(71, 98, 77, 0.15) !important; border-radius: 10px !important">
                <i class="pi pi-align-left input-icon" />
                <p:inputText value="#{candidatBean.descriptionPate}"
                             styleClass="users-input"
                             placeholder="Saisissez la description de la pâte..."
                             maxlength="255">
                    <p:ajax event="blur" listener="#{candidatBean.saveDescriptionPate}" process="@this" update="@none"/>
                </p:inputText>
            </div>
            <p:message for="@previous" display="icon"/>
        </div>

        <!-- Couleur de pâte -->
        <h:panelGroup styleClass="users-form-group users-form-group-full" style="margin-top: 20px">
            <p:outputLabel value="Couleur de pâte" />
            <div class="candidat-production-wrapper candidat-production-group">
                <div class="input-wrapper candidat-production-input-wrapper">
                    <i class="pi pi-palette input-icon" />
                    <p:inputText value="#{candidatBean.couleurPate != null ? candidatBean.couleurPate.valeur : ''}"
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune couleur sélectionnée"
                                 rendered="#{candidatBean.hasCouleurPate()}"/>
                    <p:inputText value=""
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune couleur sélectionnée"
                                 rendered="#{!candidatBean.hasCouleurPate()}"/>
                </div>

                <div class="candidat-table-action-cell" style="margin-right: -5px">
                    <p:commandButton icon="pi pi-trash"
                                     styleClass="candidat-btn-remove"
                                     title="Supprimer la couleur de pâte"
                                     rendered="#{candidatBean.hasCouleurPate()}"
                                     actionListener="#{candidatBean.prepareConfirmDeleteCouleurPate()}"
                                     process="@this"
                                     update="@none"
                                     oncomplete="PF('confirmDeleteReferenceDialog').show();"/>
                </div>

                <p:commandButton value="Ajouter"
                                 icon="pi pi-plus"
                                 styleClass="candidat-btn-add-production"
                                 actionListener="#{openThesoDialogBean.loadThesaurus(candidatBean, 'COULEUR_PATE', candidatBean.currentEntity != null ? candidatBean.currentEntity.id : null)}"
                                 process="@this"
                                 ajax="true"
                                 update=":openThesoForm :growl"
                                 oncomplete="hideLoading(); PF('openthesoDialog').show();"
                                 onstart="showLoading('Chargement des thésaurus...', 'spinner');"/>
            </div>
            <p:message for="@previous" display="icon"/>
        </h:panelGroup>

        <!-- Nature de pâte -->
        <h:panelGroup styleClass="users-form-group users-form-group-full" style="margin-top: 10px">
            <p:outputLabel value="Nature de pâte" />
            <div class="candidat-production-wrapper candidat-production-group">
                <div class="input-wrapper candidat-production-input-wrapper">
                    <i class="pi pi-th-large input-icon" />
                    <p:inputText value="#{candidatBean.naturePate != null ? candidatBean.naturePate.valeur : ''}"
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune nature sélectionnée"
                                 rendered="#{candidatBean.hasNaturePate()}"/>
                    <p:inputText value=""
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune nature sélectionnée"
                                 rendered="#{!candidatBean.hasNaturePate()}"/>
                </div>

                <div class="candidat-table-action-cell" style="margin-right: -5px">
                    <p:commandButton icon="pi pi-trash"
                                     styleClass="candidat-btn-remove"
                                     title="Supprimer la nature de pâte"
                                     rendered="#{candidatBean.hasNaturePate()}"
                                     actionListener="#{candidatBean.prepareConfirmDeleteNaturePate()}"
                                     process="@this"
                                     update="@none"
                                     oncomplete="PF('confirmDeleteReferenceDialog').show();"/>
                </div>

                <p:commandButton value="Ajouter"
                                 icon="pi pi-plus"
                                 styleClass="candidat-btn-add-production"
                                 actionListener="#{openThesoDialogBean.loadThesaurus(candidatBean, 'NATURE_PATE', candidatBean.currentEntity != null ? candidatBean.currentEntity.id : null)}"
                                 process="@this"
                                 ajax="true"
                                 update=":openThesoForm :growl"
                                 oncomplete="hideLoading(); PF('openthesoDialog').show();"
                                 onstart="showLoading('Chargement des thésaurus...', 'spinner');"/>
            </div>
            <p:message for="@previous" display="icon"/>
        </h:panelGroup>

        <!-- Inclusions -->
        <h:panelGroup styleClass="users-form-group users-form-group-full" style="margin-top: 10px">
            <p:outputLabel value="Inclusions" />
            <div class="candidat-production-wrapper candidat-production-group">
                <div class="input-wrapper candidat-production-input-wrapper">
                    <i class="pi pi-circle input-icon" />
                    <p:inputText value="#{candidatBean.inclusions != null ? candidatBean.inclusions.valeur : ''}"
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune inclusion sélectionnée"
                                 rendered="#{candidatBean.hasInclusions()}"/>
                    <p:inputText value=""
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune inclusion sélectionnée"
                                 rendered="#{!candidatBean.hasInclusions()}"/>
                </div>

                <div class="candidat-table-action-cell" style="margin-right: -5px">
                    <p:commandButton icon="pi pi-trash"
                                     styleClass="candidat-btn-remove"
                                     title="Supprimer les inclusions"
                                     rendered="#{candidatBean.hasInclusions()}"
                                     actionListener="#{candidatBean.prepareConfirmDeleteInclusions()}"
                                     process="@this"
                                     update="@none"
                                     oncomplete="PF('confirmDeleteReferenceDialog').show();"/>
                </div>

                <p:commandButton value="Ajouter"
                                 icon="pi pi-plus"
                                 styleClass="candidat-btn-add-production"
                                 actionListener="#{openThesoDialogBean.loadThesaurus(candidatBean, 'INCLUSIONS', candidatBean.currentEntity != null ? candidatBean.currentEntity.id : null)}"
                                 process="@this"
                                 ajax="true"
                                 update=":openThesoForm :growl"
                                 oncomplete="hideLoading(); PF('openthesoDialog').show();"
                                 onstart="showLoading('Chargement des thésaurus...', 'spinner');"/>
            </div>
            <p:message for="@previous" display="icon"/>
        </h:panelGroup>

        <!-- Cuisson/post-cuisson -->
        <h:panelGroup styleClass="users-form-group users-form-group-full" style="margin-top: 10px">
            <p:outputLabel value="Cuisson/post-cuisson" />
            <div class="candidat-production-wrapper candidat-production-group">
                <div class="input-wrapper candidat-production-input-wrapper">
                    <i class="pi pi-credit-card input-icon" />
                    <p:inputText value="#{candidatBean.cuissonPostCuisson != null ? candidatBean.cuissonPostCuisson.valeur : ''}"
                                 styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune cuisson/post-cuisson sélectionnée"
                                 rendered="#{candidatBean.hasCuissonPostCuisson()}"/>
                    <p:inputText styleClass="users-input"
                                 readonly="true"
                                 placeholder="Aucune cuisson/post-cuisson sélectionnée"
                                 rendered="#{!candidatBean.hasCuissonPostCuisson()}"/>
                </div>

                <div class="candidat-table-action-cell" style="margin-right: -5px">
                    <p:commandButton icon="pi pi-trash"
                                     styleClass="candidat-btn-remove"
                                     title="Supprimer la cuisson/post-cuisson"
                                     rendered="#{candidatBean.hasCuissonPostCuisson()}"
                                     actionListener="#{candidatBean.prepareConfirmDeleteCuissonPostCuisson()}"
                                     process="@this"
                                     update="@none"
                                     oncomplete="PF('confirmDeleteReferenceDialog').show();"/>
                </div>

                <p:commandButton value="Ajouter"
                                 icon="pi pi-plus"
                                 styleClass="candidat-btn-add-production"
                                 actionListener="#{openThesoDialogBean.loadThesaurus(candidatBean, 'CUISSON_POST_CUISSON', candidatBean.currentEntity != null ? candidatBean.currentEntity.id : null)}"
                                 process="@this"
                                 ajax="true"
                                 update=":openThesoForm :growl"
                                 oncomplete="hideLoading(); PF('openthesoDialog').show();"
                                 onstart="showLoading('Chargement des thésaurus...', 'spinner');"/>
            </div>
            <p:message for="@previous" display="icon"/>
        </h:panelGroup>
    </div>
</ui:composition>

