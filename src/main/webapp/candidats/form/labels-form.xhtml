<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- Traductions du label (multilingues) -->
    <div class="users-form-group users-form-group-full periode-group">
        <h6>Traductions du label</h6>

        <!-- Formulaire pour ajouter une nouvelle traduction de label -->
        <div class="candidat-label-input-row">
            <div class="candidat-label-input-wrapper">
                <div class="input-wrapper" style="border: 1px solid rgba(71, 98, 77, 0.15) !important; border-radius: 10px !important">
                    <i class="pi pi-tag input-icon" />
                    <p:inputText value="#{candidatBean.newLabelValue}"
                                 placeholder="Saisissez la traduction du label..."
                                 styleClass="users-input"
                                 maxlength="255"/>
                </div>
            </div>
            <div class="candidat-label-select-wrapper">
                <div class="input-wrapper">
                    <i class="pi pi-globe input-icon" />
                    <p:selectOneMenu value="#{candidatBean.newLabelLangueCode}"
                                     styleClass="users-select">
                        <f:selectItem itemLabel="Sélectionner une langue" itemValue="" />
                        <f:selectItems value="#{candidatBean.getAvailableLanguagesForNewLabel()}"
                                       var="langue"
                                       itemLabel="#{langue.nom}"
                                       itemValue="#{langue.code}" />
                    </p:selectOneMenu>
                </div>
            </div>
            <p:commandButton value="Ajouter"
                             icon="pi pi-plus"
                             styleClass="candidat-btn-add"
                             actionListener="#{candidatBean.addLabelFromInput()}"
                             process="@form"
                             ajax="true"
                             update=":createCandidatForm :growl"/>
        </div>

        <!-- Liste des traductions de label ajoutées -->
        <p:dataTable value="#{candidatBean.candidatLabels}"
                     var="labelItem"
                     styleClass="candidat-labels-table"
                     emptyMessage="Aucune traduction ajoutée"
                     rendered="#{not empty candidatBean.candidatLabels}">

            <p:column headerText="Labels" styleClass="candidat-table-label-column" style="padding: 0.3rem 0.5rem;">
                <div class="candidat-table-label-cell">
                    <h:panelGroup rendered="#{labelItem.langueCode != null}">
                        <h:graphicImage library="img"
                                        name="flag/#{labelItem.langueCode}.png"
                                        styleClass="candidat-table-flag"
                                        alt="#{labelItem.langue.nom}"
                                        title="#{labelItem.langue.nom}"/>
                    </h:panelGroup>
                    <h:outputText value="#{labelItem.nom}" styleClass="candidat-table-label-text" />
                </div>
            </p:column>

            <p:column styleClass="candidat-table-action-column">
                <div class="candidat-table-action-cell">
                    <p:commandButton icon="pi pi-trash"
                                     styleClass="candidat-btn-remove"
                                     action="#{candidatBean.removeCandidatLabel(labelItem)}"
                                     process="@form"
                                     ajax="true"
                                     update=":createCandidatForm :growl"
                                     title="Supprimer cette traduction"/>
                </div>
            </p:column>
        </p:dataTable>

        <ui:fragment rendered="#{empty candidatBean.candidatLabels}">
            <div class="candidat-no-labels">
                <div class="candidat-no-labels-content">
                    <div class="candidat-no-labels-icon">
                        <i class="pi pi-info-circle" />
                    </div>
                    <div class="candidat-no-labels-text">
                        <h4 class="candidat-no-labels-title">Aucune traduction ajoutée</h4>
                        <p class="candidat-no-labels-message">
                            Utilisez le formulaire ci-dessus pour ajouter une traduction du label dans une autre langue.
                        </p>
                    </div>
                </div>
            </div>
        </ui:fragment>
    </div>

</ui:composition>

