<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <nav class="breadcrumb-nav" id="breadcrumbContent" aria-label="Fil d'Ariane">
        <ol class="breadcrumb-list">
            <li class="breadcrumb-item">
                <h:form id="breadcrumbForm" styleClass="breadcrumb-form">
                    <p:commandLink styleClass="breadcrumb-link breadcrumb-link-home"
                                   action="#{applicationBean.showCollections()}"
                                   process="@this"
                                   update=":centerContent, :selectedEntityLabel, :breadcrumbContent, :treeContainer">
                        <i class="pi pi-home" aria-hidden="true"></i>
                        <span class="breadcrumb-link-text">Accueil</span>
                    </p:commandLink>
                </h:form>
            </li>

            <ui:repeat value="#{applicationBean.beadCrumbElements}" var="element" varStatus="status">
                <li class="breadcrumb-sep" aria-hidden="true">
                    <span class="breadcrumb-sep-icon" aria-hidden="true" />
                </li>
                <li class="breadcrumb-item #{status.last ? 'breadcrumb-item-current' : ''}">
                    <ui:fragment rendered="#{not status.last}">
                        <p:commandLink styleClass="breadcrumb-link"
                                       action="#{applicationBean.navigateToBreadcrumbElement(element)}"
                                       process="@this"
                                       update=":centerContent, :breadcrumbContent, :treeContainer">
                            <i class="#{treeBean.getEntityIcon(element)} breadcrumb-item-icon" aria-hidden="true" />
                            <span class="breadcrumb-link-text">#{element.code}</span>
                        </p:commandLink>
                    </ui:fragment>
                    <ui:fragment rendered="#{status.last}">
                        <i class="#{treeBean.getEntityIcon(element)} breadcrumb-item-icon" aria-hidden="true" />
                        <span class="breadcrumb-current" aria-current="page">#{element.code}</span>
                    </ui:fragment>
                </li>
            </ui:repeat>
        </ol>
    </nav>
</ui:composition>
